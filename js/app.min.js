(()=>{"use strict";window.addEventListener("DOMContentLoaded",()=>{!function(){let e=new Image;e.onload=e.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(e,t,n,c){const o=document.querySelectorAll(e),l=document.querySelectorAll(".tabcontent"),d=document.querySelector(".tab");function s(){l.forEach(e=>{e.style.display="none"}),o.forEach(e=>{e.classList.remove(c)})}function i(e=0){const t="projects"===l[e].id?"grid":"block";l[e].style.display=t,o[e].classList.add(c)}s(),i(0),d.addEventListener("click",t=>{const n=t.target;n&&n.classList.contains(e.replace(".",""))&&o.forEach((e,t)=>{n==e&&(s(),i(t))})})}(".tablinks",0,0,"active-btn");let e=[];!async function(){try{const t=await fetch("js/data/dataProjects.json");e=await t.json(),console.log("Данные внутри функции:",e),function(e){const t=document.getElementById("projects");if(!t)return;const n=document.getElementById("projects-amount");n&&(t.innerHTML="",n.textContent="",e.forEach(e=>{if(!e.id)return;const n=document.createElement("div");n.classList.add("project__card"),n.dataset.id=e.id,n.innerHTML=`\n      <div class="project__img">\n                    <img\n                    src="${e.demoImg}"\n                    sizes="100vw"\n                    alt="${e.title}"\n                    loading="lazy"\n                    srcset="\n                      ${e.demoImg}  320w,\n                      ${e.demoImg}  375w,\n                      ${e.demoImg}  414w,\n                      ${e.demoImg}  768w,\n                      ${e.demoImg}  900w,\n                      ${e.demoImg} 1024w,\n                      ${e.demoImg} 1200w,\n                      ${e.demoImg} 1440w,\n                      ${e.demoImg} 1920w\n                    "\n              />\n        </div>\n      <button class="project__btn">${e.title}</button>`,t.appendChild(n)}),n.textContent=`(${e.length-1})`)}(e)}catch(e){console.error("Ошибка загрузки данных:",e)}}(),document.querySelector("#projects").addEventListener("click",c=>{const o=c.target.closest(".project__card");o&&function(c){const o=e.find(e=>e.id===c);o&&(function(e){const c=document.getElementById("pd-title"),o=document.getElementById("pd-description"),d=document.getElementById("pd-gallery"),s=document.querySelector(".modal-content-slides"),i=document.querySelector(".modal-thumbnails");c.textContent=e.title,o.innerHTML=e.description,d.innerHTML=e.gallery.map(e=>`\n        <div class="project-gallery__item">\n            <img\n                    src="${e.src}"\n                    sizes="100vw"\n                    alt="${e.alt}"\n                    loading="lazy"\n                    srcset="\n                      ${e.src}  320w,\n                      ${e.src}  375w,\n                      ${e.src}  414w,\n                      ${e.src}  768w,\n                      ${e.src}  900w,\n                      ${e.src} 1024w,\n                      ${e.src} 1200w,\n                      ${e.src} 1440w,\n                      ${e.src} 1920w\n                    "\n              />\n        </div>\n    `).join(""),s.innerHTML=e.gallery.map((t,n)=>`\n    <div class="mySlides">\n      <div class="numbertext">${n+1} / ${e.gallery.length}</div>\n                  <img\n                    src="${t.src}"\n                    sizes="100vw"\n                    alt="${t.alt}"\n                    loading="lazy"\n                    srcset="\n                      ${t.src}  320w,\n                      ${t.src}  375w,\n                      ${t.src}  414w,\n                      ${t.src}  768w,\n                      ${t.src}  900w,\n                      ${t.src} 1024w,\n                      ${t.src} 1200w,\n                      ${t.src} 1440w,\n                      ${t.src} 1920w\n                    "\n              />\n    </div>\n  `).join(""),i.innerHTML=e.gallery.map((e,t)=>`\n    <div class="column">\n      <img class="demo cursor" src="${e.src}" alt="${e.alt}">\n    </div>\n  `).join(""),document.querySelectorAll(".project-gallery__item").forEach(e=>{e.addEventListener("click",n)}),i.querySelectorAll("img.demo").forEach((e,n)=>{e.addEventListener("click",()=>{l(t=n+1)})}),t=1,l(t)}(o),document.querySelector(".tab").style.display="none",document.querySelectorAll(".tabcontent").forEach(e=>e.style.display="none"),document.getElementById("project-details").style.display="block",history.pushState({projectId:c},"",`?project=${c}`))}(o.dataset.id)}),document.querySelector("#close-project").addEventListener("click",function(){document.querySelector(".tab").style.display="flex",document.getElementById("projects").style.display="grid",document.getElementById("project-details").style.display="none",console.log("close")});let t=1;function n(){document.getElementById("myModal").style.display="block"}function c(){document.getElementById("myModal").style.display="none"}function o(e){l(t+=e)}function l(e){let n,c=document.getElementsByClassName("mySlides"),o=document.getElementsByClassName("demo"),l=document.getElementById("caption");for(e>c.length&&(t=1),e<1&&(t=c.length),n=0;n<c.length;n++)c[n].style.display="none";for(n=0;n<o.length;n++)o[n].className=o[n].className.replace(" active","");c[t-1]&&(c[t-1].style.display="flex",o[t-1].className+=" active",l.innerHTML=o[t-1].alt)}l(t),document.querySelector(".close-cursor").addEventListener("click",c),document.addEventListener("keydown",e=>{"Escape"===e.key&&c()}),document.getElementById("myModal").addEventListener("click",e=>{e.target===e.currentTarget&&c()}),document.querySelector(".prev").addEventListener("click",()=>o(-1)),document.querySelector(".next").addEventListener("click",()=>o(1));let d=[];!async function(){try{const e=await fetch("js/data/dataBlog.json");d=await e.json(),console.log("Данные внутри функции:",d),function(e){if(!document.getElementById("blog"))return;const t=document.getElementById("articles-amount");if(!t)return;const n=document.getElementById("blog-accordion");n&&(t.textContent="",n.innerHTML="",e.forEach(e=>{const t=document.createElement("div");t.classList.add("accordion__item","accordion-item"),t.setAttribute("id",e.id);const c=document.createElement("div");c.classList.add("accordion__item-maintitle"),c.style.background=`url(${e.titleImg}) center/100% no-repeat`,t.appendChild(c);const o=document.createElement("h2");o.textContent=e.title,c.appendChild(o);const l=document.createElement("div");l.classList.add("accordion__item-header","accordion-toggle"),t.appendChild(l);const d=document.createElement("h3");d.classList.add("accordion__item-title"),d.textContent=e.brief,l.appendChild(d);const s=document.createElement("span");s.classList.add("accordion__item-icon","accordion-icon"),s.textContent="+",l.appendChild(s);const i=document.createElement("div");i.classList.add("accordion__item-body"),i.innerHTML=e.description,t.appendChild(i),e.id&&n.appendChild(t)}),t.textContent=`(${e.length-1})`,document.querySelectorAll(".accordion-toggle").forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".accordion-item"),n=e.nextElementSibling,c=e.querySelector(".accordion-icon"),o=t.classList.contains("collapsed");document.querySelectorAll(".accordion-item").forEach(e=>{e.classList.remove("collapsed"),e.querySelector(".accordion__item-body").style.display="none",e.querySelector(".accordion-icon").textContent="+"}),o||(t.classList.add("collapsed"),n.style.display="flex",c.textContent="-")})}))}(d)}catch(e){console.error("Ошибка загрузки данных:",e)}}()})})();